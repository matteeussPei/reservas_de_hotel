{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Reservas de Hotel","text":""},{"location":"#contexto","title":"Contexto","text":"<p>O cancelamento de reservas tem um impacto substancial nas decis\u00f5es de gest\u00e3o da procura na industria hoteleira. Os cancelamentos limitam a produ\u00e7\u00e3o de previs\u00f5es precisas, uma ferramenta cr\u00edtica em termos de desempenho de gest\u00e3o da receita. Para limitar os problemas causados pelo cancelamento de reservas, os hot\u00e9is implementam pol\u00edticas de cancelamento r\u00edgidas e estrat\u00e9gias de overbooking, as quais podem vir a ter influ\u00eancia negativa sobre a receita e reputa\u00e7\u00e3o  social.  Usando conjuntos  de dados de dois hot\u00e9is e abordando a previs\u00e3o de cancelamento de reservas como um  problema de classifica\u00e7\u00e3o no \u00e2mbito da Data Science, demonstro que \u00e9 poss\u00edvel construir modelos para prever cancelamentos de reservas. Os resultados permitem que os hoteleiros prevejam com melhor precis\u00e3o a procura l\u00edquida e construam melhores previs\u00f5es, melhorem as pol\u00edticas de cancelamento, definam melhores t\u00e1ticas de overbooking e usem estrat\u00e9gias de aloca\u00e7\u00e3o de invent\u00e1rio com pre\u00e7os mais assertivos.</p>"},{"location":"#objetivo","title":"Objetivo","text":"<p>Realizar uma an\u00e1lise explorat\u00f3ria de ambos os hot\u00e9is e criar um modelo para prever quando se ocorrer\u00e1 cancelamento de reserva. Para isso usaremos a linguagem Python.</p>"},{"location":"eda/","title":"An\u00e1lise Explorat\u00f3ria de Dados (EDA)","text":""},{"location":"eda/#introducao","title":"Introdu\u00e7\u00e3o","text":"<p>Este documento detalha a An\u00e1lise Explorat\u00f3ria de Dados (EDA) realizada no dataset de reservas de hot\u00e9is, contendo informa\u00e7\u00f5es sobre dois tipos de hot\u00e9is: Hotel Resort e Hotel Urbano. O objetivo desta an\u00e1lise \u00e9 entender o comportamento das reservas, incluindo cancelamentos, distribui\u00e7\u00e3o de h\u00f3spedes por pa\u00eds, dura\u00e7\u00e3o das estadias e outros aspectos relevantes.</p>"},{"location":"eda/#importacao-das-bibliotecas","title":"Importa\u00e7\u00e3o das bibliotecas","text":"<ul> <li><code>Pandas</code> \u00e9 utilizado para manipula\u00e7\u00e3o e an\u00e1lise de dados</li> <li><code>Seaborn</code> \u00e9 utilizado para cria\u00e7\u00e3o de gr\u00e1ficos estat\u00edsticos</li> <li><code>Matplotlib</code> \u00e9 utilizado para cria\u00e7\u00e3o de gr\u00e1ficos em geral</li> <li><code>Numpy</code> \u00e9 utilizado para opera\u00e7\u00f5es num\u00e9ricas eficientes</li> <li><code>Datetime</code> \u00e9 utilizado para manipula\u00e7\u00e3o de datas e horas</li> <li><code>Scatter_matrix</code> \u00e9 utilizado para cria\u00e7\u00e3o de matrizes de dispers\u00e3o, \u00fateis na an\u00e1lise explorat\u00f3ria</li> <li><code>Warnings</code> \u00e9 utilizado para controle de alertas/avisos, aqui configurado para ignorar avisos</li> </ul> <pre><code>import pandas as pd\nimport seaborn as sns\nimport matplotlib.pyplot as plt\nimport numpy as np\nimport warnings\nwarnings.filterwarnings(\"ignore\")\n</code></pre> <p>Os dados coletados nos dois hoteis, est\u00e3o em um \u00fanico arquivo do tipo csv e para l\u00ea-lo usamos a fun\u00e7\u00e3o 'read_csv' do pandas:</p> <pre><code># Carregamento do dataset de reservas de hot\u00e9is\ndf = pd.read_csv('https://raw.githubusercontent.com/matteeussPei/Hotel-Booking-Demand/main/hotel_bookings.csv')\n</code></pre>"},{"location":"eda/#analise-introdutoria","title":"An\u00e1lise Introdut\u00f3ria","text":"<p>Agora verificamos a quantidade de registros e vari\u00e1veis no arquivo, atrav\u00e9s da atributo 'shape' de um dataframe:</p> <pre><code># Exibi\u00e7\u00e3o do n\u00famero total de vari\u00e1veis (colunas) e entradas (linhas) no dataset\nprint('Total de vari\u00e1veis:', df.shape[1])\nprint('Total de entradas:', df.shape[0])\n</code></pre> <p>o arquivo possui um total de : 32 vari\u00e1veis e 11939 entradas.</p> <p>Para saber como os tipos de vari\u00e1veis est\u00e3o distribu\u00eddos usamos o atributo 'dtypes':</p> <pre><code>df.dtypes.value_counts()\n</code></pre> <p>obtendo 16 vari\u00e1veis do tipo <code>int64</code>, 12 do tipo <code>object</code> e 4 do tipo float64.</p> <p>Na busca por valores ausentes utilizamos o seguinte:</p> <pre><code>pd.DataFrame({'dados_ausentes(%)': (df.isnull().sum()/df.shape[0])*100}).sort_values('dados_ausentes(%)', ascending=False)\n</code></pre> <p>como resposta obtemos a porcentagem de valores ausentes de cada vari\u00e1vel, e somente 4 (quatro) apresentaram valores ausentes:</p> <ul> <li><code>company</code> com 94.30%</li> <li><code>agent</code> com 13.69%</li> <li><code>country</code> com 0.41%</li> <li><code>children</code> com 0.003%</li> </ul> <p>Nesta se\u00e7\u00e3o vimos como os dados est\u00e3o apresentados: a quantidade de registros, o tipo de cada vari\u00e1vel ou se h\u00e1 valores nulos.</p>"},{"location":"eda/#transformacao-dos-dados","title":"Transforma\u00e7\u00e3o dos dados","text":"<p>Visto que a vari\u00e1vel 'company' \u00e9 praticamente nula, ser\u00e1 desconsiderada em nossa an\u00e1lise; assim como a coluna 'agent', pois se trata do ID da ag\u00eancia de viagens que fez a reserva. Para isso usamos:</p> <pre><code>df.drop(columns = ['agent', 'company'], inplace=True)\n</code></pre> <p>Os valores ausentes nas colunas 'country' e 'children' ser\u00e3o preenchidos com a moda e mediana, para evitar enviesamento da an\u00e1lise.</p> <pre><code>df['country'].fillna(df['country'].mode()[0],inplace=True)\ndf['children'].fillna(df['children'].median(), inplace=True) \n</code></pre> <p>Criamos tamb\u00e9m uma nova coluna que contabilize o tempo total de cada reserva, soma das vari\u00e1veis 'stays_in_week_nights' e 'stays_in_weekend_nights':</p> <pre><code>df['total_days'] = df['stays_in_week_nights'] + df['stays_in_weekend_nights']\n</code></pre> <p>Apagamos os registros duplicados, pois nessa situa\u00e7\u00e3o reservas duplicadas com certeza \u00e9 um erro:</p> <pre><code>df.drop_duplicates(inplace=True)\n</code></pre> <p>E filtramos para que reservas onde a quantidade de adultos, crian\u00e7as e bebes fosse iguais a zero, fossem desconsideradas, afinal n\u00e3o tem como.</p> <pre><code>filtro = (df['babies'] == 0) &amp; (df['children'] == 0) &amp; (df['adults'] == 0)\ndf = df[~filtro]\n</code></pre> <p>AInda nesta se\u00e7\u00e3o tamb\u00e9m iremos renomear elementos da coluna 'meal', para melhor compreens\u00e3o, onde :</p> <ul> <li><code>Undefined/SC</code> - No Meal;</li> <li><code>BB</code> \u2013 Bed &amp; Breakfast;</li> <li><code>HB</code> \u2013 Half board (breakfast and one other meal\u2013 usually dinner);</li> <li><code>FB</code> \u2013 Full board (breakfast, lunch and dinner)</li> </ul> <pre><code>df['meal'].replace(['Undefined', 'BB', 'FB', 'HB', 'SC'], \n                   [ 'No Meal', 'Breakfast', 'Full Board', 'Half Board', 'No Meal'],\n                   inplace = True)\n</code></pre> <p>Por fim, tamb\u00e9m iremos substituir as siglas dos pa\u00edses da coluna 'country' por seus nomes, por exemplo:</p> <ul> <li><code>AFG</code> - Afghanistan</li> <li><code>ALB</code> - Albania</li> <li><code>AGO</code> - Angola</li> </ul> <p>Para isso usei um documento que cont\u00e9m o nome dos pa\u00edses e suas siglas, criei um dicion\u00e1rio e fiz a substitui\u00e7\u00e3o:</p> <pre><code>dict_country= {}\nfor i,j in zip(countries_code['alpha-3'], countries_code['name']):\n    dict_country[i] = j\n</code></pre> <pre><code>df['country'].replace(dict_country, inplace= True)\n</code></pre>"},{"location":"eda/#analise-exploratoria","title":"An\u00e1lise Explorat\u00f3ria","text":"<p>Atrav\u00e9s do atributo 'value_counts' observamos que h\u00e1 mais registros de reservas n\u00e3o canceladas do que canceladas:</p> <pre><code># quantidade de reservas n\u00e3o canceladas e canceladas\nprint(df['is_canceled'].value_counts())\n</code></pre> <p>temos 75166 n\u00e3o canceladas e 44224 reservas canceladas.</p>"},{"location":"sobre_os_dados/","title":"Sobre o conjunto de dados","text":"<p>Para construir e testar modelo, contamos com a base de dados de 2 (dois) hot\u00e9is de uma rede de hot\u00e9is portugueses, hotel resort (resort hotel) e um hotel urbano (city hotel), ambos classificados com 4 (quatro) estrelas. As base de dados partilham a mesma estrutura, com 31 vari\u00e1veis que descrevem as 40.060 observa\u00e7\u00f5es do hotel resort e as 79.330 observa\u00e7\u00f5es do hotel urbano. Cada observa\u00e7\u00e3o representa uma reserva de hotel. As reservas compreendem a data de chegada prevista entre 1 de julho de 2015 e 31 de agosto de 2017, incluindo as reservas que efetivamente chegaram e as reservas que foram canceladas. Uma vez que se trata de dados reais do hotel, todos os elementos de dados relativos \u00e0 identifica\u00e7\u00e3o do hotel ou do cliente foram eliminados. Ambos os hot\u00e9is est\u00e3o localizados em Portugal: o resort hotel na regi\u00e3o do Algarve e o hotel urbano na cidade de Lisboa Devido \u00e0 escassez de dados comerciais reais para fins cient\u00edficos e e educativos, estes conjuntos de dados podem ter um papel importante importantes para a investiga\u00e7\u00e3o e o ensino em gest\u00e3o de receitas, aprendizagem aprendizagem autom\u00e1tica ou extra\u00e7\u00e3o de dados.</p>"},{"location":"sobre_os_dados/#dicionario-de-variaveis","title":"Dicion\u00e1rio de vari\u00e1veis","text":"<ul> <li><code>hotel</code> - dois tipos de hotel, Resort Hotel e City Hotel.</li> <li><code>is_canceled</code> - indica se a reserva foi cancelada (1) ou n\u00e3o (0)</li> <li><code>lead_time</code>- n\u00famero de dias transcorridos entre a data de entrada da reserva no sistema e a data de chegada ao hotel</li> <li><code>arrival_date_year</code> - ano da data de chegada</li> <li><code>arrival_date_month</code> - m\u00eas da data de chegada</li> <li><code>arrival_date_week_number</code> - n\u00famero da semana da data de chegada</li> <li><code>arrival_date_day_of_month</code>- dia do m\u00eas da data de chegada</li> <li><code>stays_in_weekend_nights</code> - n\u00famero de noites de fim de semana (s\u00e1bado ou domingo) em que o h\u00f3spede ficou ou reservou para ficar no hotel.</li> <li><code>stays_in_week_nights</code>- n\u00famero de noites da semana (segunda a sexta) em que o h\u00f3spede ficou ou reservou para ficar no hotel.</li> <li><code>adults</code>- n\u00famero de adultos</li> <li><code>children</code> - n\u00famero de crian\u00e7as</li> <li><code>babies</code> - n\u00famero de beb\u00eas</li> <li><code>meal</code>- tipo de refei\u00e7\u00e3o reservada.</li> <li><code>country</code> - pa\u00eds de origem</li> <li><code>market_segment</code>- segmento de mercado</li> <li><code>distribution_channel</code>- canal de distribui\u00e7\u00e3o da reserva.</li> <li><code>is_repeated_guest</code> - valor indicando se o nome da reserva foi de um convidado repetido (1) ou n\u00e3o (0)</li> <li><code>previous_cancellations</code>- n\u00famero de reservas anteriores que foram canceladas pelo cliente antes da reserva atual</li> <li><code>previous_bookings_not_canceled</code> - n\u00famero de reservas anteriores que n\u00e3o foram canceladas pelo cliente antes da reserva atual</li> <li><code>reserved_room_type</code> - c\u00f3digo do tipo de quarto reservado.</li> <li><code>assigned_room_type</code> - c\u00f3digo para o tipo de quarto designado para a reserva.</li> <li><code>booking_changes</code> - n\u00famero de mudan\u00e7as/altera\u00e7\u00f5es feitas na reserva desde o momento em que a reserva foi inserida no sistema at\u00e9 o momento do check-in ou cancelamento.</li> <li><code>deposit_type</code> - indica\u00e7\u00e3o sobre se o cliente fez um dep\u00f3sito para garantir a reserva.</li> <li><code>agent</code> -  ID da ag\u00eancia de viagens que fez a reserva</li> <li><code>company</code> - ID da empresa/entidade que fez a reserva ou respons\u00e1vel pelo pagamento da reserva.</li> <li><code>days_in_waiting_list</code> - N\u00famero de dias em que a reserva estava na lista de espera antes de ser confirmada ao cliente</li> <li><code>customer_type</code> - tipo da reserva.</li> <li><code>adr</code> - taxa di\u00e1ria m\u00e9dia</li> <li><code>required_car_parking_spaces</code> - n\u00famero de vagas de estacionamento necess\u00e1rias para o cliente</li> <li><code>total_of_special_requests</code> - n\u00famero de pedidos especiais feitos pelo cliente</li> <li><code>reservation_status</code> - status da reserva</li> <li><code>reservation_status_date</code> - data na qual o \u00faltimo status foi definido.</li> </ul>"}]}